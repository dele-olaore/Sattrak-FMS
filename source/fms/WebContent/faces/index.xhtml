<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/layout/index_layout.xhtml">
<ui:define name="content">
	<div class="content">
		<h1>Fleet Management System | Login</h1>
		<div class="background"></div>
		<div class="wrapper">
			<div class="box">
				<font color="white"><p:messages id="messages2" showDetail="true" autoUpdate="true" closable="true" /></font>
				<h:form class="form_example" rendered="#{dashboardBean.user == null}">
					<div class="header grey">
						<img src="#{request.contextPath}/resources/img/icons/packs/fugue/16x16/lock.png" width="16" height="16" />
						<h3>Login</h3>
					</div>
					<div class="content no-padding">
						<div class="section _100">
							<label>
							Username
							</label>
							<br/>
							<p:inputText id="username" value="#{loginBean.username}" required="true" classStyle="required" />
						</div>
						<div class="section _100">
							<label>
							Password
							</label>
							<br/>
							<p:password id="password" value="#{loginBean.password}" required="true" classStyle="required" />
						</div>
						<div class="section _100">
							<label>
							Partner Code
							</label>
							<br/>
							<p:inputText id="partner_code" value="#{loginBean.partner_code}" required="true" classStyle="required" />
						</div>
					</div>
					<div class="actions">
						<div class="actions-left" style="margin-top: 8px;">
							<label>
								<a href="forgot_password.xhtml">Forgot Password?</a>
								<!--<p:selectBooleanCheckbox id="autologin" value="#{loginBean.autologin}" />
								remember me?-->
							</label>
						</div>
						<div class="actions-right">
							<p:commandButton ajax="false" value="Login" action="#{loginBean.login}" rendered="#{appBean.appSetup}" />
							<h:outputText value=" " rendered="#{not appBean.appSetup}" />
							<p:commandButton ajax="false" immediate="true" onclick="return confirm('Are you sure?');" value="Setup The Platform" action="#{appBean.setup}" rendered="#{not appBean.appSetup}" />
						</div>
					</div>
				</h:form>
				<h:form class="form_example2" rendered="#{dashboardBean.user != null and (not dashboardBean.user.activated)}">
					<div class="header grey">
						<img src="#{request.contextPath}/resources/img/icons/packs/fugue/16x16/lock.png" width="16" height="16" />
						<h3>Change default password</h3>
					</div>
					<div class="content no-padding">
						<div class="section _100">
							<label>
							Initial Password
							</label>
							<div>
								<p:password id="oldpass" value="#{dashboardBean.oldpassword}" required="true" classStyle="required" />
							</div>
						</div>
						<div class="section _100">
							<label>
							New Password
							</label>
							<div>
								<p:password id="newpass" value="#{dashboardBean.newpassword}" required="true" classStyle="required" />
							</div>
						</div>
						<div class="section _100">
							<label>
							Confirm Password
							</label>
							<div>
								<p:password id="cpass" value="#{dashboardBean.cpassword}" required="true" classStyle="required" />
							</div>
						</div>
					</div>
					<div class="actions">
						<div class="actions-left" style="margin-top: 8px;">
							<label>
								
							</label>
						</div>
						<div class="actions-right">
							<p:commandButton ajax="false" onclick="return confirm('Are you sure?');" action="#{dashboardBean.changeInitPassword}" value="Save" icon="ui-icon-disk" style="margin:0"/>
						</div>
					</div>
				</h:form>
			</div>
			<div class="shadow"></div>
		</div>
	</div>
</ui:define>
</ui:composition>